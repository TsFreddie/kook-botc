# 钟小楼 KOOK 机器人

一个为《染・钟楼谜团》(Blood on the Clocktower) 设计的 KOOK 机器人，辅助在线上进行游戏。

> 本机器人与《染・钟楼谜团》官方发行商 [The Pandemonium Institute](https://bloodontheclocktower.com/) 和 [集石](https://clocktower.gstonegames.com/) **无任何关联**。本项目为非官方的第三方工具。
>
> **🛒 [点击购买正版桌游](https://clocktower.gstonegames.com/)**

## 🎮 关于游戏

《染・钟楼谜团》是由 [The Pandemonium Institute](https://bloodontheclocktower.com/) 与 [集石](https://clocktower.gstonegames.com/) 共同发行的社交推理游戏。这是一款需要「说书人」主持的多人社交推理游戏，玩家分为善良和邪恶两个阵营，通过白天的讨论投票和夜晚的能力使用来决定胜负。

**本机器人需要配合桌游附带的魔典使用**

## ✨ 机器人功能

- **游戏房间管理**: 自动创建文字频道与语音频道和管理游戏房间
- **说书人控制台**: 说书人可以控制当前的游戏阶段，机器人会自动配置相关的语音频道
- **玩家管理**: 显示玩家状态、座位安排和存活情况
- **投票系统**: 支持提名投票和普通投票
- **托梦功能**: 说书人可以向特定玩家发送私密信息
- **动态频道**: 提供自由活动功能，玩家可以前往不同的语音频道和自己的小屋

## 🚀 快速开始

### 环境要求

- [Bun](https://bun.sh/) 运行时
- KOOK 机器人 Token
- KOOK 服务器管理权限

### 安装和运行

```bash
# 安装依赖
bun install

# 配置环境变量（创建 .env 文件）
KOOK_TOKEN=bot_token
GUILD_ID=guild_id
ADMIN_ID=admin_user_id

# 启动机器人
bun run index.ts
```

## 🎮 使用指南

### 管理员设置

1. 确保机器人已加入服务器并拥有管理权限
2. 在任意频道发送 `/setup` 命令（需要配置管理员ID）
3. 机器人将发送说明和创建房间按钮

### 创建房间（说书人）

1. 点击「创建」按钮创建新的游戏房间
2. 使用邀请链接邀请玩家加入语音频道（或点击开放房间允许其他人加入）

### 加入房间

1. 通过邀请链接或在「游戏房间」分组中加入游戏即可

## 📝 注意事项

- **本机器人需要配合正版《染・钟楼谜团》游戏使用**
- 机器人仅提供协助在KOOK中配置语音聊天，不包含游戏规则判定
- 本项目与官方发行商无任何关联

## 📄 许可证

本项目基于 [MIT 许可证](LICENSE) 开源。
