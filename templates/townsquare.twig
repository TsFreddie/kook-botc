[
  {
    "type": "card",
    "theme": "info",
    "size": "lg",
    "modules": [
      {
        "type": "container",
        "elements": [
          {
            "type": "image",
            "src": "{{ data.image }}"
          }
        ]
      },
      {
        "type": "section",
        "text": {
          "type": "kmarkdown",
          "content": "{{ data.status|json_escape }}"
        }
      },
      {
        "type": "divider"
      }
{% if data.groups and data.groups|length > 0 %}
    {% for group in data.groups %}
      ,{
        "type": "action-group",
        "elements": [
        {% for button in group %}
            {% if not loop.first %}
          ,
            {% endif %}
          {
            "type": "button",
            "theme": "{{ button.theme }}",
            "text": {
              "type": "plain-text",
              "content": "{{ button.text }}"
            }
            {% if button.value %}
            ,"click": "return-val",
            "value": "{{ button.value }}"
            {% endif %}
          }
        {% endfor %}
        ]
      }
    {% endfor %}
{% endif %}
{% if data.buttons and data.buttons|length > 0 %}
    {% for button in data.buttons %}
      ,{
        "type": "section",
        "text": {
          "type": "plain-text",
          "content": "{{ button.desc|json_escape }}"
        },
        "mode": "right",
        "accessory": {
          "type": "button",
          "theme": "{{ button.theme }}",
          "text": {
            "type": "plain-text",
            "content": "{{ button.text }}"
          }
        {% if button.value %}
          ,"click": "return-val",
          "value": "{{ button.value }}"
        {% endif %}
        }
      }
    {% endfor %}
{% endif %}
{% if data.footer %}
      ,{
        "type": "section",
        "text": {
        "type": "kmarkdown",
        "content": "{{ data.footer|json_escape }}"
        }
      }
{% endif %}
    ]
  }
]